# generated: 2025-11-15
# project: rgrid
# project_key: rgrid
# tracking_system: file-system
# story_location: /home/sune/Projects/rgrid/docs/sprint-artifacts

# STATUS DEFINITIONS:
# ==================
# Epic Status:
#   - backlog: Epic exists in epic file but not contexted
#   - contexted: Epic tech context created (required before drafting stories)
#
# Story Status:
#   - backlog: Story only exists in epic file
#   - drafted: Story file created in stories folder
#   - ready-for-dev: Draft approved and story context created
#   - in-progress: Developer actively working on implementation
#   - review: Under SM review (via code-review workflow)
#   - done: Story completed
#
# Retrospective Status:
#   - optional: Can be completed but not required
#   - completed: Retrospective has been done
#
# WORKFLOW NOTES:
# ===============
# - Epics should be 'contexted' before stories can be 'drafted'
# - Stories can be worked in parallel if team capacity allows
# - SM typically drafts next story after previous one is 'done' to incorporate learnings
# - Dev moves story to 'review', SM reviews, then Dev moves to 'done'

generated: 2025-11-15
project: rgrid
project_key: rgrid
tracking_system: file-system
story_location: /home/sune/Projects/rgrid/docs/sprint-artifacts

development_status:
  # Epic 1: Foundation & CLI Core (âœ… TIER 1 COMPLETE - 2025-11-15)
  epic-1: contexted
  1-1-initialize-monorepo-project-structure: done  # Tier 1
  1-2-set-up-development-environment-and-build-system: done  # Tier 1
  1-3-implement-api-key-authentication-system: done  # Tier 1 (simplified - accepts any sk_* key)
  1-4-build-cli-framework-with-click: done  # Tier 1
  1-5-implement-rgrid-init-command-for-first-time-setup: done  # Tier 1
  1-6-set-up-fastapi-backend-with-database-connection: done  # Tier 1
  epic-1-retrospective: optional

  # Epic 2: Single Script Execution (ðŸŸ¡ TIER 2/3 PARTIAL - 5/7 stories)
  epic-2: contexted
  2-1-implement-rgrid-run-command-basic-stub: done  # Tier 1
  2-2-implement-docker-container-execution-on-runner: done  # Tier 1
  2-3-implement-pre-configured-runtimes: done  # Tier 3 - 2025-11-15
  2-4-auto-detect-and-install-python-dependencies: ready-for-dev  # Tier 3 (deferred)
  2-5-handle-script-input-files-as-arguments: ready-for-dev  # Tier 3
  2-6-collect-and-store-script-outputs: done  # Tier 2 - 2025-11-15 (stdout/stderr to DB)
  2-7-support-environment-variables-via-env-flag: done  # Tier 2 - 2025-11-15 (via -e flag)
  epic-2-retrospective: optional

  # Epic 3: Distributed Orchestration (Ray)
  epic-3: contexted
  3-1-set-up-ray-head-node-on-control-plane: ready-for-dev
  3-2-initialize-ray-worker-on-each-hetzner-node: ready-for-dev
  3-3-submit-executions-as-ray-tasks: ready-for-dev
  3-4-implement-worker-health-monitoring: ready-for-dev
  epic-3-retrospective: optional

  # Epic 4: Cloud Infrastructure (Hetzner)
  epic-4: contexted
  4-1-implement-hetzner-worker-provisioning-via-api: ready-for-dev
  4-2-implement-queue-based-smart-provisioning-algorithm: ready-for-dev
  4-3-implement-billing-hour-aware-worker-termination: ready-for-dev
  4-4-pre-pull-common-docker-images-on-worker-init: ready-for-dev
  4-5-implement-worker-auto-replacement-on-failure: ready-for-dev
  epic-4-retrospective: optional

  # Epic 5: Batch Execution & Parallelism
  epic-5: contexted
  5-1-implement-batch-flag-with-glob-pattern-expansion: ready-for-dev
  5-2-implement-parallel-flag-for-concurrency-control: ready-for-dev
  5-3-track-batch-execution-progress: ready-for-dev
  5-4-organize-batch-outputs-by-input-filename: ready-for-dev
  5-5-handle-batch-failures-gracefully: ready-for-dev
  5-6-implement-retry-for-failed-batch-executions: ready-for-dev
  epic-5-retrospective: optional

  # Epic 6: Caching & Optimization
  epic-6: contexted
  6-1-implement-script-content-hashing-and-cache-lookup: ready-for-dev
  6-2-implement-dependency-layer-caching: ready-for-dev
  6-3-implement-automatic-cache-invalidation: ready-for-dev
  6-4-implement-optional-input-file-caching: ready-for-dev
  epic-6-retrospective: optional

  # Epic 7: File & Artifact Management (ðŸŸ¡ TIER 1 PARTIAL - 2/6 stories)
  epic-7: contexted
  7-1-auto-upload-input-files-referenced-in-arguments: done  # Tier 1 (basic detection only)
  7-2-auto-collect-output-files-from-container: ready-for-dev  # Tier 2
  7-3-store-outputs-in-minio-with-retention-policy: ready-for-dev  # Tier 2
  7-4-auto-download-outputs-to-current-directory-single-execution: done  # Tier 1 (basic)
  7-5-implement-remote-only-flag-to-skip-auto-download: ready-for-dev  # Tier 3
  7-6-implement-large-file-streaming-and-compression: ready-for-dev  # Tier 3
  epic-7-retrospective: optional

  # Epic 8: Observability & Real-time Feedback (ðŸŸ¡ TIER 2 PARTIAL - 2/6 stories)
  epic-8: contexted
  8-1-implement-rgrid-status-command: done  # Tier 2 - 2025-11-15
  8-2-implement-rgrid-logs-command-with-historical-logs: done  # Tier 2 - 2025-11-15
  8-3-implement-websocket-log-streaming-for-real-time-logs: ready-for-dev
  8-4-implement-cli-reconnection-for-websocket-streams: ready-for-dev
  8-5-implement-batch-progress-display-with-watch: ready-for-dev
  8-6-track-execution-metadata-in-database: ready-for-dev
  epic-8-retrospective: completed  # docs/TIER2_RETROSPECTIVE.md

  # Epic 9: Cost Tracking & Billing
  epic-9: contexted
  9-1-implement-microns-cost-calculation: ready-for-dev
  9-2-implement-billing-hour-cost-amortization: ready-for-dev
  9-3-implement-rgrid-cost-command: ready-for-dev
  9-4-implement-cost-estimation-for-batch-executions: ready-for-dev
  9-5-implement-cost-alerts-future-enhancement: ready-for-dev
  epic-9-retrospective: optional

  # Epic 10: Web Interfaces & MVP Polish
  epic-10: contexted
  10-1-build-marketing-website-landing-page: ready-for-dev
  10-2-build-console-dashboard-with-execution-history: ready-for-dev
  10-3-implement-download-outputs-via-console: ready-for-dev
  10-4-implement-structured-error-handling-with-clear-messages: ready-for-dev  # Tier 3 (deferred)
  10-5-implement-network-failure-graceful-handling: ready-for-dev
  10-6-implement-manual-retry-command: ready-for-dev
  10-7-implement-auto-retry-for-transient-failures: ready-for-dev
  10-8-implement-execution-metadata-tagging: ready-for-dev
  epic-10-retrospective: optional

  # Tier 3: Production Reliability Stories (âœ… 3/3 core stories - 2025-11-15)
  NEW-3-setup-alembic-database-migrations: done  # Tier 3 - 2025-11-15
  NEW-5-add-container-resource-limits: done  # Tier 3 - 2025-11-15
  NEW-6-implement-job-timeout-mechanism: done  # Tier 3 - 2025-11-15
  NEW-7-implement-dead-worker-detection: ready-for-dev  # Tier 3 (deferred - complex infrastructure)
